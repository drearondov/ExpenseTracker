#:import hex kivy.utils.get_color_from_hex

<Label>
    font_name: 'assets/fonts/Roboto-Regular.ttf'
    color: hex('#2D1340')

<Button>
    background_normal: ''
    background_down: ''
    color: hex('#FDFDFD')

<HomeScreen>:

    user_name: user_name
    accounts_slider: accounts_slider
    today: today
    time_period: time_period
    transaction_form: transaction_form


    FloatLayout:
        size: root.width, root.height

        canvas:
            Color:
                rgba: hex('#FDFDFD')
            Rectangle:
                size: self.size
                pos: self.pos

        # Top float
        BoxLayout:
            orientation: "vertical"
            size_hint: 0.5013, 0.08
            pos_hint: {"x": 0, "top": 0.95}
            padding: [48, 16, 48, 16]

            Label:
                id: today
                text: ''
                font_name: 'assets/fonts/Roboto-Regular.ttf'
                text_size: self.size
                font_size: ('10sp')
                halign: 'left'
                color: hex('#737373')

            Label:
                id: user_name
                text: ''
                text_size: self.size
                font_size: ('18sp')
                halign: 'left'

        BoxLayout:
            size_hint: 0.125, 0.055
            pos_hint: {"right": 0.95, "top": 0.93}

            canvas:
                Color:
                    rgba: hex('#F2F2F2')
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [24]

            ImageButton:
                source: 'assets/img/settings.png'
                size: self.texture_size


        # Middle slider
        BoxLayout:
            orientation: 'vertical'
            pos_hint: {'y': 0.66}
            size_hint: 1, 0.28
            spacing: 16

            Label:
                text: 'Accounts'
                font_name: 'assets/fonts/BalooBhai2-Bold.ttf'
                text_size: self.size
                font_size: ('18sp')
                halign: 'left'
                pos_hint: {'x': 0.05}

            ScrollView:
                do_scroll_x: True
                do_scroll_y: False

                GridLayout:
                    id: accounts_slider
                    size_hint_x: None
                    rows: 1
                    col_default_width: root.width * 0.32
                    width: self.minimum_width
                    spacing: 36
                    padding: [36, 0]


        # Bottom box layout
        BoxLayout:
            orientation: "vertical"
            size_hint: 1, 0.65
            pos_hint: {"x": 0, "y": 0}
            padding: [24, 48]

            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 0.095
                spacing: 24
                padding: [16, 0]

                Label:
                    text: 'Activity'
                    font_name: 'assets/fonts/BalooBhai2-Bold.ttf'
                    font_size: ('18sp')
                    text_size: self.size
                    halign: 'left'

                RoundedButton:
                    text: 'history'
                    font_name: 'assets/fonts/BalooBhai2-Bold.ttf'
                    font_size: ('14sp')
                    size_hint: 0.3, 1
                    back_color: hex('#333333')
                    color: hex('#FDFDFD')
                    border_radius: [24]

            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 0.15

                ImageButton:
                    source: 'assets/img/Back.png'
                    size_hint: (0.1, 1)
                    size: self.texture_size
                    on_press: root.change_month(False)

                Label:
                    id: time_period
                    text: ''
                    size_hint: 1, 1
                    font_size: ('14sp')
                    font_name: 'assets/fonts/Roboto-Bold.ttf'

                ImageButton:
                    source: 'assets/img/Right.png'
                    size_hint: (0.1, 1)
                    size: self.texture_size
                    on_press: root.change_month(True)

            BoxLayout:
                orientation: "vertical"
                size_hint: 1, 1

                ScrollView:
                    do_scroll_y: True
                    do_scroll_x: False

                    GridLayout:
                        id: transaction_slider
                        size_hint_y: None
                        cols: 1
                        row_default_height: root.height * 0.05
                        height: self.minimum_height
                        spacing: 4
                        padding: [24, 0]

        # Form button
        BoxLayout:
            pos_hint: {'right': 0.925, 'top': 0.125}
            size_hint: None, None
            size: 128, 128

            canvas:
                Color:
                    rgba: hex("#2D1340")
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [64]

            ImageButton:
                source: 'assets/img/Add.png'
                size: self.texture_size
                on_press: root.ids['transaction_form'].slide(True)

        # Transaction form
        TransactionForm:
            id: transaction_form
            pos_hint: {"top": -0.1, "center_x": 0.5}
