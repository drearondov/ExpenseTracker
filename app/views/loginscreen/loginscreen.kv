#:import hex kivy.utils.get_color_from_hex

<Label>
    font_name: 'assets/fonts/Roboto-Regular.ttf'
    color: hex('#333333')

<Button>
    background_normal: ''
    background_down: ''
    color: hex('#FDFDFD')

<TextInput>
    multiline: False
    background_normal: 'assets/img/white_square.jpg'
    background_active: 'assets/img/white_square.jpg'
    font_name: "assets/fonts/Roboto-Regular.ttf"
    font_size: ('12sp')
    foreground_color: hex('#333333')
    padding: [16, 8]


<LoginScreen>

    login_email: login_email
    login_password: login_password
    login_error: login_error


    FloatLayout:
        size: root.width, root.height

        canvas.before:
            Color:
                rgba: hex('#F8F8F8')
            Rectangle:
                size: self.size
                pos: self.pos

        canvas:
            Color:
                rgba: hex('#F8F8F8')
            Rectangle:
                size: self.size
                pos: self.pos
                source: "assets/img/background.png"

        BoxLayout:
            orientation: "vertical"
            size_hint: 0.8, 0.6
            pos_hint: {"center_x": 0.5, "top": 0.8}
            padding: 72

            canvas:
                Color:
                    rgba: hex('#FDFDFD')
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [48]

            ImageButton:
                source: 'assets/img/Back.png'
                size_hint: (None, None)
                size: self.texture_size
                pos_hint: {"x": -0.1}
                on_press: root.manager.current = 'welcome_screen'

            Label:
                text: "welcome\nback"
                font_name: 'assets/fonts/BalooBhai2-Bold.ttf'
                font_size: ('36sp')
                halign: "left"
                line_height: 0.8
                size_hint: 1, 0.45
                text_size: self.size

            Label:
                id: login_error
                text: ''
                color: hex('#C7444A')
                font_size: ('10sp')
                size_hint: 1, 0.1
                text_size: self.size
                halign: 'left'
                valign: 'bottom'
                pos_hint: {"x": 0.05}

            BoxLayout:
                orientation: "vertical"
                padding: [0, 48, 0, 72]
                spacing: 32

                InputField:
                    size_hint: 1, 0.7
                    TextInput:
                        id: login_email
                        color: hex('#333333')
                        cursor_color: hex('#333333')
                        hint_text: "e-mail"

                BoxLayout:
                    orientation: "vertical"
                    size_hint: 1, 1

                    InputField:
                        TextInput:
                            id: login_password
                            color: hex('#333333')
                            cursor_color: hex('#333333')
                            hint_text: "password"
                            password: True
                            password_mask: '‚óè'

                    Label:
                        text: "[ref=password]Forgot your password?[/ref]"
                        font_size: ('10sp')
                        markup: True
                        on_ref_press: root.manager.current = 'signup_screen'
                        size_hint: 1, 0.4
                        text_size: self.size
                        halign: 'left'
                        pos_hint: {"x": 0.05}

                RoundedButton:
                    back_color: hex('#333333')
                    color: hex('#FDFDFD')
                    border_radius: [32]
                    text: "log in"
                    font_size: ('14sp')
                    font_name: 'assets/fonts/BalooBhai2-Bold.ttf'
                    size_hint: 0.28, 0.75
                    pos_hint: {'right': 1}
                    on_press:
                        root.login(login_email.text, login_password.text)

            Label:
                text: "Don't have an account?"
                font_size: ('14sp')
                text_size: self.size
                halign: 'left'
                valign: 'bottom'
                size_hint: 1, 0.1

            Label:
                text: "[ref=register]Register[/ref]"
                font_name: 'assets/fonts/Roboto-Bold.ttf'
                font_size: ('14sp')
                size_hint: 1, 0.1
                markup: True
                text_size: self.size
                halign: 'left'
                valign: 'top'
                on_ref_press: root.manager.current = 'signup_screen'
